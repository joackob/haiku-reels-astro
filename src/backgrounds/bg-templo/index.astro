<div class="relative h-full">
	<div class="absolute h-full w-full">
		<canvas class="h-full w-full" container-bg-templo></canvas>
	</div>

	<div class="flex flex-col h-full">
		<div class="grow"></div>
		<div class="relative z-10">
			<slot />
		</div>
		<div class="grow-[2]"></div>
	</div>
</div>
<script>
	import { createBodies } from "./bodies";
	// import { createCanvasByContainer } from "@utils/matterjs/canvas";
	import { MotorFisico } from "@utils/matterjs/engine";
	import { Vector, Body } from "matter-js";

	const containers = document.querySelectorAll<HTMLCanvasElement>(`canvas[container-bg-templo]`);
	containers.forEach((container) => {
		// const canvas = createCanvasByContainer(container);
		const canvas = container;
		const cuerpos = createBodies(canvas);
		const velocidad = Vector.create(-0.5, 0);

		const motor = new MotorFisico({
			canvas,
			cuerpos,
		});

		motor.despuesDeActualizar(() => {
			cuerpos.forEach((cuerpo) => {
				Body.setVelocity(cuerpo, velocidad);
			});
		});

		motor.comenzar();
	});
</script>
